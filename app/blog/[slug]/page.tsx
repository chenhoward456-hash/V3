import { notFound } from 'next/navigation'
import Link from 'next/link'

// 文章內容（之後可以從 Markdown 檔案讀取）
const blogContent: Record<string, {
  title: string
  date: string
  category: string
  readTime: string
  content: string
}> = {
  'sleep-quality-hrv-optimization': {
    title: '為什麼你睡 8 小時還是累？HRV 告訴你睡眠品質的真相',
    date: '2026-01-30',
    category: '訓練恢復',
    readTime: '7 分鐘',
    content: `
## 前言：睡 8 小時還是累到像殭屍？

說實話，我以前也是這樣。

鬧鐘響了按掉，再睡 10 分鐘，起床後整個人還是廢的，腦袋像被塞了一團棉花。

後來我開始追蹤數據，才發現問題不是「睡多久」，而是「睡得有多爛」。

---

## 🔴 睡眠的真相：時間 ≠ 品質

你的身體有個指標叫 **HRV（Heart Rate Variability，心率變異度）**，它能看出你的自律神經系統有沒有真的在休息。

### **什麼是 HRV？**

HRV 測量的是你心跳間隔的變化。

- **HRV 高（綠色）**：你的副交感神經活躍，身體在真正恢復
- **HRV 低（紅色）**：你的交感神經還在亢奮，身體只是在「躺平發炎」

**簡單說：**  
如果你睡了 8 小時，但 HRV 低到爆，代表你的身體根本沒在休息，只是在床上「空轉」。

### **我的數據變化：**

| 時期 | 平均 HRV | 睡眠時間 | 早上狀態 |
|------|----------|----------|----------|
| 優化前 | 52 ms | 7-8 小時 | 累到像殭屍 |
| 優化後 | 78 ms | 7-8 小時 | 精神飽滿 |

**同樣睡 7-8 小時，但 HRV 提升 50%，早上的狀態完全不同。**

---

## 🟠 3 個原因讓你「睡爛」

我自己試過很多方法，最後發現這 3 個是破壞睡眠品質的主因：

### **1. 睡前滑手機（藍光壓制褪黑激素）**

**為什麼有害？**
- 藍光會讓大腦以為「現在還是白天」
- 褪黑激素分泌被壓制
- 結果：你躺了 1 小時才睡著

**我的實測：**
- 睡前滑手機 1 小時 → 入睡時間 45-60 分鐘
- 睡前不碰手機 → 入睡時間 10-15 分鐘

---

### **2. 晚餐吃太多碳水（血糖震盪）**

**為什麼有害？**
- 高碳水晚餐 → 血糖飆高 → 2-3 小時後暴跌
- 血糖暴跌會觸發壓力荷爾蒙（皮質醇）
- 結果：你半夜 3 點突然醒來，然後睡不回去

**我的實測：**
- 晚餐吃白飯 + 麵 → 半夜醒來 2-3 次
- 晚餐吃蛋白質 + 蔬菜 → 一覺到天亮

---

### **3. 壓力太大（皮質醇還在高檔）**

**為什麼有害？**
- 白天壓力大 → 皮質醇晚上還沒降下來
- 皮質醇高會抑制褪黑激素
- 結果：你的身體進不了深層睡眠

**我的實測：**
- 壓力大的日子 → HRV 平均 45-50
- 放鬆的日子 → HRV 平均 75-80

---

## 🟡 3 個小習慣，讓你的 HRV 從紅變綠

我花了 3 年實測這些方法，我的 HRV 從平均 52 拉到 78，早上起床不再像殭屍。

### **習慣 1：睡前 2 小時，手機開夜覽模式**

**具體做法：**
- 晚上 8 點後，手機自動開啟夜覽模式
- 或者直接戴藍光眼鏡
- 最好的做法：睡前 1 小時完全不碰手機

**我的工具：**
- iPhone：設定 → 螢幕顯示與亮度 → 夜覽
- 藍光眼鏡：睡前 2 小時開始戴

**效果：**
- 入睡時間從 45 分鐘縮短到 15 分鐘
- 深度睡眠時間增加 20-30 分鐘

---

### **習慣 2：晚餐減碳水，增加蛋白質 + 好油**

**具體做法：**
- 晚餐不吃白飯、麵、麵包
- 改吃：雞胸肉/魚肉 + 大量蔬菜 + 酪梨/橄欖油
- 如果真的想吃碳水，選擇地瓜（低 GI）

**我的晚餐範例：**
```
- 煎鮭魚 150g
- 花椰菜 + 菠菜 200g
- 酪梨半顆
- 橄欖油拌炒
```

**效果：**
- 半夜醒來次數從 2-3 次降到 0 次
- HRV 提升 10-15 ms

---

### **習慣 3：睡前做 10 分鐘呼吸訓練**

**具體做法：**
- 我用「4-7-8 呼吸法」
  - 吸氣 4 秒
  - 憋氣 7 秒
  - 吐氣 8 秒
- 重複 5-10 次

**為什麼有效？**
- 強迫身體進入副交感神經模式
- 降低心率和皮質醇
- 讓大腦知道「現在該休息了」

**我的工具：**
- App：Breathwrk、Calm
- 或者直接用手機計時器

**效果：**
- 壓力大的日子，HRV 也能維持在 65-70
- 入睡速度明顯變快

---

## 🧪 其他輔助因素

除了三個關鍵習慣，我還做了這些調整：

### **環境優化**
- 房間全黑（遮光窗簾）
- 溫度 18-20°C（涼爽有助睡眠）
- 安靜（耳塞或白噪音）

### **補劑使用（個人經驗）**
- **鎂**：每天 400mg（睡前服用，幫助放鬆）
- **甘胺酸**：3g（改善睡眠品質）
- **維生素 D**：白天補充（晚上不要吃，會影響褪黑激素）

### **追蹤工具**
- **Oura Ring**：我用這個追蹤 HRV 和睡眠階段
- **Apple Watch**：也可以追蹤睡眠，但準確度較低
- **Whoop**：專業運動員用的，數據最準確

---

## 💡 關鍵心得

### 1. 數據追蹤很重要
不要只憑感覺，用 HRV 追蹤你的睡眠品質。  
你會發現很多「以為有用」的習慣其實沒用。

### 2. 睡眠品質 > 睡眠時間
睡 6 小時高品質睡眠，比睡 8 小時低品質睡眠更有效。

### 3. 多管齊下才有效
單一因素（只改晚餐或只做呼吸）效果有限。  
三個習慣同時執行，HRV 才會明顯提升。

### 4. 需要時間適應
前 1-2 週可能感受不明顯，但數據會說話。  
堅持 3-4 週後，你會發現早上起床完全不同。

---

## ⚠️ 重要提醒

### **什麼時候需要看醫生？**
- 如果你已經做了這些調整，但 HRV 還是很低
- 如果你有嚴重的失眠問題（超過 2 小時才能入睡）
- 如果你有睡眠呼吸中止症的症狀（打鼾、半夜喘不過氣）

**請務必諮詢睡眠專科醫師或神經內科醫師。**

### **我不建議的做法：**
- ❌ 依賴安眠藥（長期使用會降低睡眠品質）
- ❌ 睡前喝酒（會抑制深度睡眠）
- ❌ 週末補眠（會打亂生理時鐘）

---

## 免責聲明

**這是我的個人實驗紀錄，不構成醫療建議。**

所有內容均基於個人經驗與公開研究資料分享，僅供教育與資訊參考之用。睡眠問題可能涉及多種健康因素，每個人的狀況不同，在進行任何調整前，請務必諮詢合格的醫師或睡眠專科醫師。

---

## 想了解更多？

如果你也想優化自己的睡眠品質和恢復能力，歡迎透過 LINE 預約免費諮詢。  
我會分享更多個人實驗心得與數據追蹤經驗。

**但記住：這不是醫療諮詢，而是經驗分享。**

[預約免費諮詢](https://lin.ee/dnbucVw)
    `
  },
  'testosterone-optimization-3-months': {
    title: '沒用藥，我如何三個月內自然提升 20% 睪固酮？(515→625)',
    date: '2026-01-30',
    category: '血檢數據',
    readTime: '6 分鐘',
    content: `
## 前言：這是我今年做過最值得的「人體實驗」

身為醫學背景的教練，我不想只憑感覺訓練。

三個月前，我的睪固酮值是 **515 ng/dL**（正常範圍，但很普通）。  
透過科學化調整生活型態後，上週複檢，數值直接衝到 **625.04 ng/dL**。

**這 20% 的提升，帶來的身體變化非常巨大。**

---

## 📊 實測數據對比

| 時間 | 睪固酮 (ng/dL) | 變化 |
|------|----------------|------|
| 2025.10 | 515 | 基準值 |
| 2026.01 | 625.04 | **↑ 21.4%** |

**參考範圍：**
- 正常範圍：300-1000 ng/dL
- 最佳範圍：600-900 ng/dL（根據研究文獻）

我從「正常但普通」提升到「最佳範圍」。

---

## 💪 身體變化（主觀感受）

### 1️⃣ 體態變乾
在同樣的訓練量下，身體排水更快，肌肉線條變得更明顯。  
體脂率沒有特別降低，但視覺效果明顯提升。

### 2️⃣ 腦霧消失
下午不再斷電，專注力與續航力大幅提升。  
工作效率明顯變好，不需要靠咖啡因硬撐。

### 3️⃣ 晨間訊號
屬於男人的「原廠設定」準時回歸（懂的就懂）。  
這是睪固酮健康的重要指標之一。

---

## 🔑 三個關鍵習慣

這不是靠什麼黑魔法，而是我嚴格執行了以下三個習慣：

### **1. 維生素 D3 補充**

**為什麼有效？**
- 研究顯示，維生素 D 與睪固酮合成高度相關
- 台灣人普遍缺乏維生素 D（室內工作、防曬過度）

**我的做法：**
- 每天補充 **4000 IU 維生素 D3**
- 搭配 K2（幫助鈣質吸收）
- 每天曬太陽 20-30 分鐘（上午 10 點前）

**數據追蹤：**
- 補充前：維生素 D 約 25 ng/mL（不足）
- 補充後：維生素 D 約 50 ng/mL（最佳範圍）

---

### **2. 大重量腿部訓練**

**為什麼有效？**
- 大肌群訓練（深蹲、硬舉）會刺激睪固酮分泌
- 腿部是全身最大的肌群，刺激效果最強

**我的做法：**
- 每週 **2 次腿部訓練**
- 深蹲：5 組 x 5 下（80-85% 1RM）
- 硬舉：5 組 x 5 下（80-85% 1RM）
- 保加利亞分腿蹲：3 組 x 8-10 下

**關鍵：**
- 重量要夠重（不是輕鬆的高次數）
- 組間休息 3-5 分鐘（充分恢復）
- 訓練後補充蛋白質

---

### **3. 睡眠優化**

**為什麼有效？**
- 睪固酮主要在深度睡眠時分泌
- 睡眠不足會直接降低睪固酮 10-15%

**我的做法：**
- 每天睡 **7.5-8 小時**
- 晚上 10:30 前上床
- 睡前 2 小時不看手機（藍光會抑制褪黑激素）
- 房間全黑（遮光窗簾）
- 補充鎂（400mg，幫助放鬆）

**數據追蹤：**
- 使用 Oura Ring 追蹤睡眠品質
- 深度睡眠從 1 小時提升到 1.5-2 小時

---

## 🧪 其他輔助因素

除了三個關鍵習慣，我還做了這些調整：

### **營養優化**
- 增加健康脂肪攝取（橄欖油、酪梨、堅果）
- 確保鋅攝取充足（牡蠣、紅肉）
- 減少糖分攝取（穩定胰島素）

### **壓力管理**
- 每天冥想 10 分鐘
- 減少無意義的社群媒體使用
- 週末完全放鬆（不工作）

### **避免睪固酮殺手**
- 減少塑膠容器使用（避免環境荷爾蒙）
- 不用含 Parabens 的保養品
- 避免過度飲酒

---

## 💡 關鍵心得

### 1. 數據追蹤很重要
定期抽血檢測，才知道調整是否有效。  
不要只憑感覺，要用數據說話。

### 2. 需要時間累積
這不是 7 天挑戰，而是 3 個月的持續執行。  
前 1-2 個月可能感受不明顯，但數據會說話。

### 3. 多管齊下才有效
單一因素（只補 D3 或只練腿）效果有限。  
三個習慣同時執行，才能看到顯著提升。

### 4. 個人化很重要
我的方法不一定適合你。  
每個人的基因、生活型態、起始數值都不同。

---

## ⚠️ 重要提醒

### **什麼時候需要看醫生？**
- 如果你的睪固酮 < 300 ng/dL（明顯偏低）
- 如果有性功能障礙、嚴重疲勞等症狀
- 如果調整 3-6 個月後數值仍無改善

**請務必諮詢泌尿科或內分泌科醫師。**

### **我不建議的做法：**
- ❌ 自行使用睪固酮補充劑（TRT）
- ❌ 使用來路不明的補品
- ❌ 過度訓練（反而會降低睪固酮）

---

## 免責聲明

**這是我的個人實驗紀錄，不構成醫療建議。**

所有內容均基於個人經驗與公開研究資料分享，僅供教育與資訊參考之用。睪固酮相關問題涉及內分泌系統，每個人的狀況不同，在進行任何調整前，請務必諮詢合格的醫師或內分泌專科醫師。

---

## 想了解更多？

如果你也想優化自己的荷爾蒙健康，歡迎透過 LINE 預約免費諮詢。  
我會分享更多個人實驗心得與數據追蹤經驗。

**但記住：這不是醫療諮詢，而是經驗分享。**

[預約免費諮詢](https://lin.ee/dnbucVw)
    `
  },
  'hba1c-optimization-journey': {
    title: '我如何從 HbA1c 5.9% 優化到 5.1%：6年代謝優化實驗',
    date: '2026-01-29',
    category: '血檢數據',
    readTime: '8 分鐘',
    content: `
## 前言：從系統崩潰到完全重生

2020 年，我的身體出現了嚴重的警訊：掉髮、慢性發炎、代謝問題。當時的 HbA1c 是 5.9%，醫生說「正常範圍，沒問題」。

但我知道，**這不是最佳值**。

經過 6 年的自我實驗與數據追蹤，我成功將 HbA1c 優化到 5.1%，整個人的狀態也從系統崩潰走向完全重生。

**這篇文章分享我的個人實驗紀錄，不構成醫療建議。**

---

## 健保紅線 vs 最佳值

### 醫生的標準（健保紅線）：
- HbA1c < 6.5%：正常
- HbA1c 6.5-6.9%：糖尿病前期
- HbA1c ≥ 7.0%：糖尿病

### 研究文獻的最佳值：
- HbA1c 4.8-5.3%：最佳代謝健康
- HbA1c 5.4-5.6%：可接受範圍
- HbA1c 5.7-6.4%：糖尿病前期（但醫生說正常）

**我的目標：不只是「正常」，而是「最佳」。**

---

## 我的數據變化

| 時間 | HbA1c | 空腹血糖 | 體重 | 狀態 |
|------|-------|----------|------|------|
| 2020.03 | 5.9% | 98 mg/dL | 78kg | 系統崩潰 |
| 2021.06 | 5.6% | 92 mg/dL | 75kg | 開始改善 |
| 2023.01 | 5.3% | 88 mg/dL | 72kg | 穩定優化 |
| 2026.01 | 5.1% | 85 mg/dL | 70kg | 完全重生 |

---

## 我做了什麼調整？

### 1. 飲食策略
- **減少精緻碳水**：從每餐 200g 米飯降到 100g
- **增加蛋白質**：每公斤體重 2g（140g/天）
- **優質脂肪**：Omega-3、橄欖油、酪梨
- **間歇性斷食**：16:8（早上 10 點到晚上 6 點進食）

### 2. 訓練計畫
- **肌力訓練**：每週 4 次，重點在大肌群
- **HIIT**：每週 2 次，提升胰島素敏感度
- **步行**：每天 10,000 步

### 3. 補劑使用（個人經驗）
- **鎂**：每天 400mg（改善胰島素敏感度）
- **Omega-3**：每天 2g EPA+DHA（降低發炎）
- **維生素 D**：每天 4000 IU（代謝健康）
- **鉻**：每天 200mcg（血糖穩定）

### 4. 生活型態
- **睡眠**：每天 7-8 小時
- **壓力管理**：冥想、深呼吸
- **陽光曝曬**：每天 20 分鐘

---

## 關鍵心得

### 1. 數據追蹤很重要
每 3-6 個月抽血追蹤，了解身體的變化趨勢。

### 2. 不要只看單一指標
除了 HbA1c，還要看空腹血糖、胰島素、發炎指標（CRP）。

### 3. 個人化很重要
我的方法不一定適合你，每個人的基因、生活型態都不同。

### 4. 長期堅持才有效
這不是 30 天挑戰，而是 6 年的持續優化。

---

## 免責聲明

**這是我的個人實驗紀錄，不構成醫療建議。**

所有內容均基於個人經驗與公開研究資料分享，不應取代專業醫療人員的意見。在進行任何健康相關決策前，請務必諮詢合格的醫師。

---

## 想了解更多？

如果你也想優化自己的代謝健康，歡迎透過 LINE 預約免費諮詢，我會分享更多個人經驗與實驗心得。

[預約免費諮詢](https://lin.ee/dnbucVw)
    `
  }
}

export async function generateStaticParams() {
  return Object.keys(blogContent).map((slug) => ({
    slug: slug,
  }))
}

export default function BlogPostPage({ params }: { params: { slug: string } }) {
  const post = blogContent[params.slug]

  if (!post) {
    notFound()
  }

  return (
    <div style={{backgroundColor: '#F9F9F7'}} className="min-h-screen">
      <article className="max-w-3xl mx-auto px-6 py-16">
        {/* 返回按鈕 */}
        <Link 
          href="/blog"
          className="inline-flex items-center text-gray-600 hover:text-primary mb-8 transition-colors"
        >
          ← 返回文章列表
        </Link>

        {/* 文章標題 */}
        <header className="mb-8">
          <div className="flex items-center gap-3 mb-4">
            <span className="px-3 py-1 bg-primary/10 text-primary text-sm font-medium rounded-full">
              {post.category}
            </span>
            <span className="text-gray-400 text-sm">{post.readTime}</span>
          </div>
          
          <h1 className="text-4xl font-bold mb-4" style={{color: '#2D2D2D'}}>
            {post.title}
          </h1>
          
          <div className="text-gray-500 text-sm">
            發布於 {post.date}
          </div>
        </header>

        {/* 文章內容 */}
        <div 
          className="prose prose-lg max-w-none"
          style={{
            color: '#2D2D2D',
            lineHeight: '1.8'
          }}
          dangerouslySetInnerHTML={{ 
            __html: post.content
              .split('\n')
              .map(line => {
                // 標題
                if (line.startsWith('## ')) {
                  return `<h2 style="font-size: 1.8rem; font-weight: bold; margin-top: 2rem; margin-bottom: 1rem; color: #2D2D2D;">${line.replace('## ', '')}</h2>`
                }
                if (line.startsWith('### ')) {
                  return `<h3 style="font-size: 1.4rem; font-weight: bold; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #2D2D2D;">${line.replace('### ', '')}</h3>`
                }
                // 粗體
                if (line.includes('**')) {
                  line = line.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                }
                // 連結
                if (line.includes('[') && line.includes('](')) {
                  line = line.replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">$1</a>')
                }
                // 分隔線
                if (line === '---') {
                  return '<hr style="margin: 2rem 0; border-color: #E5E5E5;" />'
                }
                // 列表
                if (line.startsWith('- ')) {
                  return `<li style="margin-bottom: 0.5rem;">${line.replace('- ', '')}</li>`
                }
                // 表格（簡化處理）
                if (line.startsWith('|')) {
                  return line
                }
                // 一般段落
                if (line.trim()) {
                  return `<p style="margin-bottom: 1rem;">${line}</p>`
                }
                return ''
              })
              .join('')
          }}
        />

        {/* CTA */}
        <div className="mt-16 bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-10 text-center border-2 border-primary/20">
          <h3 className="text-2xl font-bold mb-4" style={{color: '#2D2D2D'}}>
            想了解個人化的健康優化方案？
          </h3>
          <p className="text-gray-600 mb-6">
            透過 LINE 預約免費諮詢，分享更多實驗心得與數據追蹤經驗。
          </p>
          <a
            href="https://lin.ee/dnbucVw"
            target="_blank"
            rel="noopener noreferrer"
            className="inline-block bg-success text-white px-8 py-4 rounded-xl font-bold shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all"
          >
            預約免費諮詢
          </a>
        </div>
      </article>
    </div>
  )
}
